<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>GEG6230 - Introduction to Geostatistics</title>

		<meta name="description" content="GEG6230 - Introduction to Geostatistics">
		<meta name="author" content="Stuart Grieve">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../reveal/css/reset.css">
		<link rel="stylesheet" href="../../reveal/css/reveal.css">
    <link rel="stylesheet" href="../../reveal/css/custom.css">
		<link rel="stylesheet" href="../../reveal/css/theme/night.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../../reveal/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../../reveal/css/print/pdf.css' : '../../reveal/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">


<section data-markdown>
<textarea data-template>

## Introduction to Geostatistics

GEG6230 - Stuart Grieve - Week 8

These slides:
https://swdg.io/GEG6230/week_8/lecture_a/index.html

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Lecture Overview

- Patterns in geospatial data
- k-means clustering
- Spatial autocorrelation
- Hot and cold spot analysis

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Whats special about spatial?

- Data is the currency of science
- Geospatial data combines data with place
- Allows us to see geographic patterns in the world
- But only if we have the right techniques!

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Patterns in geospatial data

Data can be:

- Spatially random
- Spatially uniform
- Spatially clustered

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatially random data

![Random points](../../img/random_points.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatially uniform data

![uniform points](../../img/uniform_points.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatially clustered data

![Clean clusters](../../img/clusters_clean.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Clusters are important

![John Snow](../../img/John_Snow.jpg) <!-- .element: style="float: right; width: 20%" -->

John Snow (1813 - 1858) <!-- .element: style="width: 70%" -->

Doctor and founder of epidemiology <!-- .element: style="width: 70%" -->

Performed the first spatial analysis, looking at cholera in Soho <!-- .element: style="width: 70%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Clusters are important

![Original John Snow map](../../img/Snow_map.jpg) <!-- .element width="60%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Clusters are important

![http://blog.rtwilson.com/john-snows-cholera-data-in-more-formats/](../../img/SnowMap_Points.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Clusters are important

![Pump memorial](../../img/pump.jpg) <!-- .element width="40%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Clusters are important

![https://tobaccocontrol.bmj.com/content/tobaccocontrol/25/1/75.full.pdf](../../img/tobacco.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### What is a cluster?

![Noisy clustered data](../../img/clusters_noise.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### What is a cluster?

![random data](../../img/random_points.png) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### What is a cluster?

Rules for defining clusters:

- How many clusters?
- Must everything be in a cluster?
- Minimum density?
- Maximum size?

</textarea>
</section>

<section data-markdown>
<textarea data-template>

## Are there ways to identify clusters automatically?

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### k-means clustering

1. Choose a number of clusters for our data
1. Randomly place cluster centroids on the map
1. Assign each point the value of its nearest cluster centroid
1. Update the centroids to the center of the new clusters
1. Repeat steps 3 and 4 until the centroids stop moving

</textarea>
</section>


<section data-markdown>
<textarea data-template>

### k-means clustering

<iframe data-src="https://www.youtube.com/embed/5I3Ei69I40s?rel=0" data-autoplay class="stretch"></iframe>

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### k-means clustering

Pros of k-means:
- Simple to implement and explain
- Works on any n dimensional data - not just spatial data
- Popular - lots of implementations

Cons of k-means:
- Doesn't account for attribute values
- Relies on us choosing parameters
- Parameters are divorced from physical prinicples

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Geospatial clustering

There are other methods we can use to identify **spatial** patterns in our data:

- Spatial autocorrelation
- Hot/cold spot analysis

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

Quantitative formalisation of Tobler's first law:

> Everything is related to everything else, but near things are more related than distant things

Allows us to take spatial datasets and quantify their spatial patterns

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

![Page 118 Burrough and McDonnell](../../img/queen_rook.png) <!-- .element width="100%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

<!--
I = \frac
{
n\sum_{i=1}^{n}\sum_{j=1}^{n}w_{ij}(y_i-\bar{y})(y_j-\bar{y})
}
{
\big(\sum_{i=1}^{n}(y_i-\bar{y})^2\big)\big(\sum_{i=1}^{n}\sum_{j=1}^{n}w_{ij}\big)
}
-->

![Morans I](../../img/morans_I.svg) <!-- .element width="80%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

$w_{ij}$ corresponds to the distance between points.

Using this we can look for autocorrelation over many different scales.

The scale we consider depends on the thing we are studying.

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

![Morans example from pg 118 Burrough and McDonnell](../../img/moran_explainer.png) <!-- .element width="100%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Spatial autocorrelation

![Interpreting Morans I](../../img/moran_interp.png) <!-- .element width="100%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

- Getis Ord Gi* is a geostatistical test for 'hot spots'

- A hot spot is a statistically significant region of elevated attribute values

- A cold spot is a statistically significant region of reduced attribute values

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

<!--
G_i^* = \frac
{
\sum_{j=1}^{n} w_{i,j}x_j - \bar{X} \sum_{j=1}^{n}w_{i,j}
}

{
S \sqrt
{

\frac{n \sum_{j=1}^{n}w_{i,j}^{2}- \big( \sum_{j=1}^{n} w_{i,j} \big)^2}{n-1}

}
}
-->

![Getis ord explainer](../../img/getis_ord_explainer.svg) <!-- .element width="100%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

As with Morans I, scale is important and is represented by $w_{i,j}$

The scale we consider depends on the thing we are studying.

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

Interpreting Getis Ord Gi* results:

- A positve Gi* value indicates a hot spot
- A negative Gi* value indicates a cold spot
- The larger the value, the more intense the clustering
- Values close to $0$ do not indicate clustering of either type

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

![https://arxiv.org/pdf/1803.09745.pdf](../../img/dream.png) <!-- .element width="65%" -->

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Hot/cold spots

Benefits of Getis Ord Gi*:
- Not all data must be in a cluster
- Allows significance testing of clusters
- Gives hot and cold spots

Limitations of Getis Ord Gi*:
- Need to select an appropriate scale
- Can be complex to implement
- Need to know clusters exist before running

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Summary

- Geospatial data's geographic patterns are important
- We can use traditional clustering algorithms on geospatial data
- The spatial organisation of data can play a role in the non-spatial patterns we observe
- There are more specialised algorithms which allow us to statistically identify clusters

</textarea>
</section>

<section data-markdown>
<textarea data-template>

### Reading

- Goodchild, Michael F., Spatial autocorrelation. Concepts and Techniques in Modern Geography (CATMOG) Vol. 47 (1986)
- PDF on QMplus

</textarea>
</section>

			</div>

		</div>

		<script src="../../reveal/lib/js/head.min.js"></script>
		<script src="../../reveal/js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,


        // Parallax background image
        parallaxBackgroundImage: "../../img/bg4.jpg", //https://unsplash.com/photos/OYFHT4X5isg

      	// Parallax background size
      	parallaxBackgroundSize: "4200px 1800px",

        // Number of slides away from the current that are visible
      	viewDistance: 3,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

        math: {
		           mathjax: '../../reveal/plugin/MathJax/MathJax.js',
		           config: 'TeX-AMS_HTML-full'  // See http://docs.mathjax.org/en/latest/config-files.html
	            },

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../../reveal/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../../reveal/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../../reveal/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../../reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../../reveal/plugin/search/search.js', async: true },
					{ src: '../../reveal/plugin/zoom-js/zoom.js', async: true },
					{ src: '../../reveal/plugin/notes/notes.js', async: true },
          { src: '../../reveal/plugin/math/math.js', async: true },
          { src: '../../reveal/plugin/embed-tweet.js' },
          { src: '../../reveal/plugin/reveal-svg-fragment.js', condition: function() { return !!document.querySelector( '[data-svg-fragment]' ); } },
          { src: '../../reveal/plugin/reveal-svg-fragment-big.js', condition: function() { return !!document.querySelector( '[data-svg-fragment-big]' ); } }
				]
			});

		</script>

	</body>
</html>
