<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content="Stuart Grieve" />
  <meta name="dcterms.date" content="2025-03-14" />
  <title>GEG6230 Introduction to ModelBuilder</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
  <!--
  https://gist.github.com/killercup/5917178
  -->
  <style type="text/css">
  html {
    font-size: 100%;
    overflow-y: scroll;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  body {
    color: #444;
    font-family: Georgia, Palatino, 'Palatino Linotype', Times, 'Times New Roman', serif;
    font-size: 12px;
    line-height: 1.7;
    padding: 1em;
    margin: auto;
    max-width: 42em;
    background: #fefefe;
  }

  a {
    color: #0645ad;
    text-decoration: none;
  }

  a:visited {
    color: #0b0080;
  }

  a:hover {
    color: #06e;
  }

  a:active {
    color: #faa700;
  }

  a:focus {
    outline: thin dotted;
  }

  *::-moz-selection {
    background: rgba(255, 255, 0, 0.3);
    color: #000;
  }

  *::selection {
    background: rgba(255, 255, 0, 0.3);
    color: #000;
  }

  a::-moz-selection {
    background: rgba(255, 255, 0, 0.3);
    color: #0645ad;
  }

  a::selection {
    background: rgba(255, 255, 0, 0.3);
    color: #0645ad;
  }

  p {
    margin: 1em 0;
  }

  img {
    max-width: 100%;
  }

  h1, h2, h3, h4, h5, h6 {
    color: #111;
    line-height: 125%;
    margin-top: 2em;
    font-weight: normal;
  }

  h4, h5, h6 {
    font-weight: bold;
  }

  h1 {
    font-size: 2.5em;
  }

  h2 {
    font-size: 2em;
  }

  h3 {
    font-size: 1.5em;
  }

  h4 {
    font-size: 1.2em;
  }

  h5 {
    font-size: 1em;
  }

  h6 {
    font-size: 0.9em;
  }

  blockquote {
    color: #666666;
    margin: 0;
    padding-left: 3em;
    border-left: 0.5em #EEE solid;
  }

  hr {
    display: block;
    height: 2px;
    border: 0;
    border-top: 1px solid #aaa;
    border-bottom: 1px solid #eee;
    margin: 1em 0;
    padding: 0;
  }

  pre, code, kbd, samp {
    color: #000;
    font-family: monospace, monospace;
    _font-family: 'courier new', monospace;
    font-size: 0.98em;
  }

  pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  b, strong {
    font-weight: bold;
  }

  dfn {
    font-style: italic;
  }

  ins {
    background: #ff9;
    color: #000;
    text-decoration: none;
  }

  mark {
    background: #ff0;
    color: #000;
    font-style: italic;
    font-weight: bold;
  }

  sub, sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sup {
    top: -0.5em;
  }

  sub {
    bottom: -0.25em;
  }

  ul, ol {
    margin: 1em 0;
    padding: 0 0 0 2em;
  }

  li p:last-child {
    margin-bottom: 0;
  }

  ul ul, ol ol {
    margin: .3em 0;
  }

  dl {
    margin-bottom: 1em;
  }

  dt {
    font-weight: bold;
    margin-bottom: .8em;
  }

  dd {
    margin: 0 0 .8em 2em;
  }

  dd:last-child {
    margin-bottom: 0;
  }

  img {
    border: 0;
    -ms-interpolation-mode: bicubic;
    vertical-align: middle;
  }

  figure {
    display: block;
    text-align: center;
    margin: 1em 0;
  }

  figure img {
    border: none;
    margin: 0 auto;
  }

  figcaption {
    font-size: 0.8em;
    font-style: italic;
    margin: 0 0 .8em;
  }

  table {
    margin-bottom: 2em;
    border-bottom: 1px solid #ddd;
    border-right: 1px solid #ddd;
    border-spacing: 0;
    border-collapse: collapse;
  }

  table th {
    padding: .2em 1em;
    background-color: #eee;
    border-top: 1px solid #ddd;
    border-left: 1px solid #ddd;
  }

  table td {
    padding: .2em 1em;
    border-top: 1px solid #ddd;
    border-left: 1px solid #ddd;
    vertical-align: top;
  }

  .author {
    font-size: 1.2em;
    text-align: center;
  }

  @media only screen and (min-width: 480px) {
    body {
      font-size: 14px;
    }
  }
  @media only screen and (min-width: 768px) {
    body {
      font-size: 16px;
    }
  }
  @media print {
    * {
      background: transparent !important;
      color: black !important;
      filter: none !important;
      -ms-filter: none !important;
    }

    body {
      font-size: 12pt;
      max-width: 100%;
    }

    a, a:visited {
      text-decoration: underline;
    }

    hr {
      height: 1px;
      border: 0;
      border-bottom: 1px solid black;
    }

    a[href]:after {
      content: " (" attr(href) ")";
    }

    abbr[title]:after {
      content: " (" attr(title) ")";
    }

    .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after {
      content: "";
    }

    pre, blockquote {
      border: 1px solid #999;
      padding-right: 1em;
      page-break-inside: avoid;
    }

    tr, img {
      page-break-inside: avoid;
    }

    img {
      max-width: 100% !important;
    }

    @page :left {
      margin: 15mm 20mm 15mm 10mm;
  }

    @page :right {
      margin: 15mm 10mm 15mm 20mm;
  }

    p, h2, h3 {
      orphans: 3;
      widows: 3;
    }

    h2, h3 {
      page-break-after: avoid;
    }
  }
  </style>
  <script
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js"
  type="text/javascript"></script>
</head>
<body>
<header id="title-block-header">
<h1 class="title">GEG6230 Introduction to ModelBuilder</h1>
<p class="author">Stuart Grieve</p>
<p class="date">03/14/25</p>
</header>
<h1 id="introduction-to-modelbuilder">Introduction to ModelBuilder</h1>
<h2 id="aims-and-objectives">Aims and Objectives</h2>
<p>In this practical you will be introduced to the ModelBuilder tool in
ArcGIS, and will use it to build two geoprocessing workflows.</p>
<p>By the end of this class you should be able to:</p>
<ol type="1">
<li>Translate conceptual models of workflows into ModelBuilder</li>
<li>Use a range of ArcGIS tools to build complex models</li>
<li>Save models as custom toolboxes</li>
<li>Load and edit saved toolboxes</li>
</ol>
<h2 id="downloading-the-data">Downloading the data</h2>
<p>This practical, and the work in the next two weeks all use the same
data, which can be downloaded from the <code>Week 8</code> section on
QMplus.</p>
<h2 id="extracting-the-data">Extracting the data</h2>
<p>Once the zip file has been downloaded and copied to a folder in your
<code>G: Drive</code>, you can extract it by right clicking on the
downloaded zip file and selecting <code>Extract All...</code>.</p>
<p>This will complete after a few seconds, and you will be able to see
all of your data files in the folder that has been created:</p>
<p><img src="../../img/extracted.png" alt="Extracted files" />
<!-- .element width="80%" --></p>
<p><strong>Remember to put your data in a sensible folder that does not
have any spaces in the file name.</strong></p>
<h2 id="building-our-first-model">Building our first model</h2>
<p>The first model we will be building will be a solution to our
in-class exercise of identifying trees near a road and lake. To recap
our requirements, we need to identify all trees that are within 300
meters of the lake and 400 meters of the road. For this model, we will
be using the following files:</p>
<ul>
<li><code>road.shp</code></li>
<li><code>trees.shp</code></li>
<li><code>field.shp</code></li>
<li><code>lake.shp</code></li>
</ul>
<h3 id="loading-modelbuilder">Loading ModelBuilder</h3>
<p>Load ArcGIS as normal, and create a new blank map document. Launch
the ModelBuilder by opening the <code>Analysis</code> ribbon at the top
of the screen. On the left hand side there is a button called
<code>ModelBuilder</code>, click it to open the modelbuilder window.</p>
<p><img src="../../img/mb_button.png" />
<!-- .element width="80%" --></p>
<p>After a few seconds, a window looking something like this will open
up:</p>
<p><img src="../../img/mb_window.png" alt="The modelbuilder window" />
<!-- .element width="80%" --></p>
<p>This is our workspace to create a data processing workflow. Note that
we can toggle between our model view and our map view using the tabs at
the top of the window. Take a little bit of time to explore the various
buttons and options within this window, you’ll see some familiar things
and some new stuff - don’t worry if the new stuff is unfamiliar at this
stage, we’ll explore the key tools through the rest of this session.</p>
<h3 id="building-our-model">Building our model</h3>
<p>Now that we have familiarised ourselves with the options available to
us, lets add some data to our map window. Using the normal
<code>Add Data</code> button in the map ribbon, add the
<code>road.shp</code>, <code>trees.shp</code> and <code>lake.shp</code>
files that we downloaded earlier. Now switch back to the ModelBuilder
tab using the button at the top of the window.</p>
<p>When we are designing a workflow, we often start with the data that
we are processing. To add data to the ModelBuilder window, click and
drag a layer from the table of contents into the ModelBuilder window.
After a few seconds it will appear as a blue oval - this is how data is
represented. Do this for the three datasets we have added.</p>
<p>We can now add our first GIS tool from the <code>Tools</code>
dropdown inside the ModelBuilder ribbon. Click on the small down arrow
to open up the search window.</p>
<p><img src="../../img/mb_search.png" />
<!-- .element width="80%" --></p>
<p>We need to find all of the trees within a distance of an object, so
lets create a buffer. Search for <code>Buffer (Analysis Tools)</code>
and click and drag the tool into the ModelBuilder window. Initially it
will load as a grey rectangle connected to a grey oval. Remember that
our input data are blue ovals, so that means that ovals are used to
represent data, and rectangles represent tools.</p>
<p>Once we have added a tool it needs to be connected to some data.
Click and drag on the <code>trees</code> oval to connect it to the
<code>Buffer</code> tool and selecting <code>Input Features</code> when
prompted. Now double click on the buffer tool, choose a sensible place
to store the output, and set the distance to <code>400 meters</code>.
Click OK, and when you return to the main ModelBuilder window, the tool
will have turned yellow, and its output green.</p>
<p>Repeat this process with a second buffer tool, this time connected to
<code>lake.shp</code>, with a buffer distance of
<code>300 meters</code>. Your model should now look similar to this:</p>
<p><img src="../../img/buffers.png" alt="Buffer tools" />
<!-- .element width="80%" --></p>
<p>We can use the <code>Intersect (Analysis Tools)</code> tool to find
the intersection between the two buffered polygons: this will give us
the area that is within the two distances of our features of interest.
Again, search for this tool and drag and drop it into the ModelBuilder
window and connect the two outputs from the buffer tools as inputs into
the <code>Intersect</code> tool.</p>
<p>The final stage is then to select all of the trees within this
intersection and create a new shapefile containing only the selected
trees. Add in the
<code>Select Layer by Location (Data Management Tools)</code> tool by
dragging and dropping it into the model. Don’t connect anything to it
directly, instead double click on it and choose the following
options:</p>
<ul>
<li>Input Feature Layer: <code>trees</code> which will be listed under
<code>Model Variables</code></li>
<li>Relationship: <code>WITHIN</code></li>
<li>Selecting Features: The output from the intersect tool,
<code>Output Feature Class</code> if you didn’t rename it</li>
</ul>
<p>Leave everything else as its default and click <code>OK</code>. It
should now be connected up and coloured yellow.</p>
<p>Now add the <code>Copy Features (Data Management Tools)</code> tool
to the model, connect the output of the
<code>Select Layer by Location</code> tool to it, double click on it and
set a sensible place for the final result of the model to be saved. Your
finished model should look something like:</p>
<p><img src="../../img/full_model.png" />
<!-- .element width="80%" --></p>
<h3 id="running-a-model">Running a model</h3>
<p>To run a model, first click <code>Validate</code> to check for any
common errors (missing files, broken connections) and then click on the
<code>Run</code> button, this will launch a window showing the progress
of your model, once it has completed, you can return to the ArcGIS map
window and load the results of the model to see if it has worked.</p>
<h3 id="tidying-up">Tidying up</h3>
<p>Once you have done all this, your model may be a bit messy, click the
<code>Auto Layout</code> button to tidy things up. You should also make
sure that all of the input and output names make sense, you will need to
change at least some of them by right clicking on an element of the
model and selecting <code>Rename</code>. You can also add labels to the
model using the <code>Label</code> button, found just above the
<code>Tools</code> button we have been using. <strong>This is very
important in helping others understand your model.</strong></p>
<h2 id="saving-a-model">Saving a model</h2>
<p>Now that we have made a model, we will want to save it so that we can
use it again and share it with others. To do this, click the save
button, which will automatically save the model to a Toolbox associated
with your current project.</p>
<h2 id="exporting-a-model-image">Exporting a model image</h2>
<p>It is often useful to be able to export an image of our model to
include in a report. This can be done with the <code>Export</code>
dropdown menu:</p>
<p><img src="../../img/mb_export.png" />
<!-- .element width="80%" --></p>
<p>Select <code>Export &gt; To Graphic</code> and choose a place to save
the file. We can choose a <code>.pdf</code> file if we just need a quick
image, but if we want to be able to edit the file easily in Inkscape, we
need to select <code>Scalable Vector Graphic (SVG)</code>, as this can
be loaded by Inkscape.</p>
<h2 id="loading-a-model">Loading a model</h2>
<p>If we wish to return to a previously saved model, we need to load the
toolbox we saved it in. To do this, click on the <code>Toolbox</code>
button inside the <code>Insert</code> ribbon and select
<code>Add Toolbox</code>, and navigate to where you saved your project
and select the toolbox file. Now we can open the <code>Catalog</code>
pane and expand the <code>Toolboxes</code> dropdown to see our newly
added toolbox. Expand the toolbox to see your model. To reopen your
model in ModelBuilder, right click on the model and click
<code>Edit</code>.</p>
<h2 id="a-more-complex-model">A more complex model</h2>
<p>Now that we have figured out the basics of building and using a
model, we are going to build a new model to calculate the stream power
at the outlet of a series of catchments. To do this we will use the
following data, downloaded earlier in this practical:</p>
<ul>
<li><code>catchment_1.shp</code> through
<code>catchment_4.shp</code></li>
<li><code>Slope.tif</code></li>
</ul>
<p><strong>Do this work in a new ArcGIS project, as we are working in a
different coordinate system to the last example and things can get
confusing otherwise.</strong></p>
<p>The aim of our new model is to calculate the stream power, <span
class="math inline">\(E\)</span>, which is an approximate measure of the
rate of fluvial erosion at a point in a landscape. It is calculated
as:</p>
<p><span class="math display">\[E = KA^mS^n\]</span></p>
<p>Where <span class="math inline">\(K\)</span> is an erosion
coefficient, <span class="math inline">\(m\)</span> and <span
class="math inline">\(n\)</span> are constants, <span
class="math inline">\(S\)</span> is the slope and <span
class="math inline">\(A\)</span> is the basin area. Note that typically
we would use the channel slope for this calculation, but for simplicity
we will use the basin slope here as an approximation. The result of this
calculation will be the erosion rate at the catchment outlet in meters
per year.</p>
<h3 id="iterators">Iterators</h3>
<p>In this exercise we have multiple different catchment files which
need to be processed. The aim is to add a new field to each of their
attribute tables containing their erosion rate. ModelBuilder has some
special tools for cases like this, called <strong>iterators</strong>, we
can think of this as like the for loops we have been learning in
Python.</p>
<p>The iterator we are going to use here is called
<code>Iterate Feature Classes</code>, it is found in the
<code>Iterators</code> dropdown menu. Double click on this tool to open
its settings, and under <code>Workspace or Feature Dataset</code> choose
the folder that the four <code>catchment_*.shp</code> files are in.
Finally, select <code>Polygon</code> as the feature type. Click OK, and
the tool will become coloured in. We have created a series of inputs,
one for each of our catchment shapefiles, that we can now process
automatically.</p>
<p>Your ModelBuilder window should look something like this:</p>
<p><img src="../../img/mb_iterator.png" />
<!-- .element width="80%" --></p>
<p>In this example, the data folder may have more than just the
<code>catchment_*.shp</code> files in it. To ensure that our iterator
only iterates over the catchment files, we can use the
<code>Wildcard</code> option in the same way we use <code>glob</code> in
Python, adding in the text: <code>catchment_*</code> so that only files
that match that pattern are iterated over.</p>
<h3 id="zonal-statistics">Zonal statistics</h3>
<p>We need to calculate the mean basin slope for each of our catchments,
we can do this using the
<code>Zonal Statistics as Table (Spatial Analyst Tools)</code> tool.
First, add the slope data to your map using the <code>Add Data</code>
button and drag it across into the ModelBuilder window, then drag and
drop the <code>Zonal Statistics as Table (Spatial Analyst Tools)</code>
tool into the window and connect it to the slope raster, as the
<code>Input Value Raster</code>. Now double click on the
<code>Zonal Statistics as Table</code> tool and configure the following
options:</p>
<ul>
<li>Input raster or feature zone data: <code>Catchment_1.shp</code>
which will be listed under <code>Model Variables</code></li>
<li>Statistics type: <code>MEAN</code></li>
</ul>
<p>Click OK, and the tool should now be connected up to the green output
from the iterator.</p>
<h3 id="gathering-values">Gathering Values</h3>
<p>We now have all of the values we need to calculate stream power. In
order to perform calculations in ModelBuilder we need to use the
<code>Get Field Value (Model Tools)</code> tool. Connect this new tool
to the output of the <code>Zonal Statistics as Table</code> tool and
double click on it to open its settings. Here you need to select the
Field that we want to get, in this case this is <code>Mean</code>. You
also have to specify the <code>Data type</code>. As we are working with
numerical data, select <code>Double</code>, which is similar to the
<code>float</code> data type we have seen in Python. This will ensure
that calculations can be performed using these values.</p>
<p>This tool effectively creates a variable that we can use in
calculations within a model run, so we should give it a meaningful name
such as <code>slope</code>, by right clicking on the green output and
choosing <code>Rename</code>.</p>
<p>We now need to repeat this process to get the K value and basin area
from each shapefile’s attribute table. Add another
<code>Get Field Value</code> tool, and this time connect it to the green
output from the iterator. Select either <code>K</code> or
<code>area</code> in the settings, and rename the output as before.</p>
<p>Repeat this once more so that we have 3 outputs from
<code>Get Field Value</code> tools, one for each of Area, K and
Slope.</p>
<p><strong>Just like in Python, all of these names are case-sensitive,
so be careful!</strong></p>
<h3 id="adding-a-new-field">Adding a new field</h3>
<p>We need to create a new field in each of our catchment shapefiles to
store the stream power values. Drag and drop the `Add Field (Data
Management Tools) into the ModelBuilder window. Connect it to the green
output from the iterator, double click on it and modify the following
settings, leaving all the others as their defaults:</p>
<ul>
<li>Field Name: <code>E</code> You will have to type this, as we are
creating a new column in the attribute table.</li>
<li>Field Type: <code>Double</code></li>
</ul>
<h3 id="calculating-stream-power">Calculating stream power</h3>
<p>The final tool we have to add to our model is the one that will do
the calculation, using the values we have identified using the
<code>Get Field Value</code> tool. Drag and drop the
<code>Calculate Field (Data Management Tools)</code> tool into the
window. This is a really useful tool in ModelBuilder as it allows us to
write small bits of Python to perform calculations.</p>
<p>Double click on the tool and select the following outputs:</p>
<ul>
<li>Input Table: This is the output of the <code>Add Field</code>
tool</li>
<li>Field Name: This should be the name of the new field added by the
<code>Add Field</code> tool, which will be <code>E</code> in our
case</li>
<li>Expression: <code>stream_power(%slope%, %area%, %K%)</code> - the
<code>%</code> symbols are used to denote an ArcMap variable name in a
way that Python can understand.</li>
<li>Expression Type: <code>Python 3</code></li>
<li>Code Block: See Below</li>
</ul>
<p>The code block we need to add is a small Python function which will
calculate the stream power for a given set of input values:</p>
<pre><code>def stream_power(slope, area, K):
    return K * (area ** 0.3) * (slope ** 0.6)</code></pre>
<p>The completed window for the <code>Calculate Field</code> tool will
look something like this:</p>
<p><img src="../../img/mb_calc_field.png" />
<!-- .element width="80%" --></p>
<p>Having filled all of this in, click OK to return to your model. The
final thing we need to do is add <strong>Preconditions</strong> to the
model, so that it does not run things in the wrong order. To do this, we
use the <code>Connect</code> tool to link each of the outputs to the
<code>Calculate Field</code> tool, selecting the
<code>precondition</code> option when prompted. This ensures that the
calculation will only be performed when the variables are all ready. The
final model should look something like this:</p>
<p><img src="../../img/spm_model.png" alt="Finished model" />
<!-- .element width="80%" --></p>
<p>Once all that is done, we are ready to run our model! As before,
click validate to check for any errors, and if none are found, click
run. It might take a bit of time for all for all of the steps to
complete, but now it is automated you can walk away from your machine
while it works for you.</p>
<h3 id="debugging-and-finishing-up">Debugging and finishing up</h3>
<p>You can now add the 4 catchment files to the regular ArcGIS window
and check to see the results of your calculation. Just as before,
remember to save this model in a toolbox, you can use the same one you
created earlier, so that you can return to this in the future.</p>
</body>
</html>
